<Window x:Class="MemoApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MemoApp"
        mc:Ignorable="d"
        Title="ë©”ëª¨ í”„ë¡œê·¸ëž¨" Height="750" Width="1300"
        WindowStartupLocation="CenterScreen"
        Closing="Window_Closing"
        KeyDown="Window_KeyDown">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="320"/>
            <ColumnDefinition Width="5"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- ì™¼ìª½ ì‚¬ì´ë“œë°” -->
        <Border Grid.Column="0" Background="#2c3e50">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- ê²€ìƒ‰ ì˜ì—­ -->
                <Border Grid.Row="0" Background="#34495e" Padding="10" Margin="5">
                    <StackPanel>
                        <TextBlock Text="ðŸ” ê²€ìƒ‰" Foreground="White" FontWeight="Bold" Margin="0,0,0,5" FontSize="14"/>
                        <TextBox x:Name="SearchTextBox" 
                                 TextChanged="SearchTextBox_TextChanged"
                                 Background="#ecf0f1" 
                                 Padding="8"
                                 FontSize="13"
                                 BorderThickness="1"
                                 BorderBrush="#bdc3c7"/>
                    </StackPanel>
                </Border>

                <!-- í•„í„° ì˜ì—­ -->
                <Border Grid.Row="1" Background="#34495e" Padding="10" Margin="5">
                    <StackPanel>
                        <TextBlock Text="ðŸ“ ì¹´í…Œê³ ë¦¬" Foreground="White" FontWeight="Bold" Margin="0,0,0,5" FontSize="14"/>
                        <ComboBox x:Name="CategoryComboBox" 
                                  SelectionChanged="CategoryComboBox_SelectionChanged"
                                  Background="#ecf0f1"
                                  Padding="5"
                                  FontSize="13"
                                  BorderThickness="1"
                                  BorderBrush="#bdc3c7"/>
                    </StackPanel>
                </Border>

                <!-- ìš°ì„ ìˆœìœ„ í•„í„° -->
                <Border Grid.Row="2" Background="#34495e" Padding="10" Margin="5">
                    <StackPanel>
                        <TextBlock Text="âš¡ ìš°ì„ ìˆœìœ„" Foreground="White" FontWeight="Bold" Margin="0,0,0,5" FontSize="14"/>
                        <ComboBox x:Name="PriorityComboBox" 
                                  SelectionChanged="PriorityComboBox_SelectionChanged"
                                  Background="#ecf0f1"
                                  Padding="5"
                                  FontSize="13"
                                  BorderThickness="1"
                                  BorderBrush="#bdc3c7"/>
                    </StackPanel>
                </Border>

                <!-- í•„í„° ë²„íŠ¼ -->
                <StackPanel Grid.Row="3" Orientation="Horizontal" Margin="5" HorizontalAlignment="Center">
                    <Button Content="â­ ì¦ê²¨ì°¾ê¸°" 
                            x:Name="FavoriteFilterButton"
                            Click="FavoriteFilterButton_Click"
                            Background="#f39c12"
                            Foreground="White"
                            Padding="8,4"
                            Margin="2"
                            FontSize="11"
                            BorderThickness="0"
                            Cursor="Hand"/>
                    <Button Content="ðŸ“… ìµœì‹ ìˆœ" 
                            x:Name="SortButton"
                            Click="SortButton_Click"
                            Background="#3498db"
                            Foreground="White"
                            Padding="8,4"
                            Margin="2"
                            FontSize="11"
                            BorderThickness="0"
                            Cursor="Hand"/>
                </StackPanel>

                <!-- ë©”ëª¨ ëª©ë¡ -->
                <ListBox x:Name="MemoListBox" 
                         Grid.Row="4"
                         SelectionChanged="MemoListBox_SelectionChanged"
                         Background="#34495e"
                         BorderThickness="0"
                         Margin="5"
                         ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <Border Background="#ecf0f1" Margin="2" Padding="10" CornerRadius="5" Cursor="Hand">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="{Binding Title}" 
                                                   FontWeight="Bold" 
                                                   FontSize="14"
                                                   TextTrimming="CharacterEllipsis"
                                                   Foreground="#2c3e50"
                                                   VerticalAlignment="Center"/>
                                        <TextBlock Text="â­" 
                                                   FontSize="12"
                                                   Foreground="#f39c12"
                                                   Margin="5,0,0,0"
                                                   VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding IsFavorite}" Value="True">
                                                            <Setter Property="Visibility" Value="Visible"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                        <TextBlock Text="ðŸ”¥" 
                                                   FontSize="12"
                                                   Foreground="#e74c3c"
                                                   Margin="5,0,0,0"
                                                   VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding Priority}" Value="3">
                                                            <Setter Property="Visibility" Value="Visible"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </StackPanel>
                                    <TextBlock Text="{Binding Content}" 
                                               FontSize="11"
                                               TextTrimming="CharacterEllipsis"
                                               Foreground="#7f8c8d"
                                               Margin="0,5,0,0"
                                               MaxHeight="35"
                                               TextWrapping="Wrap"/>
                                    <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                                        <Border Background="#d5e8f4"
                                                BorderThickness="1"
                                                BorderBrush="#3498db"
                                                Padding="4,2"
                                                Margin="0,0,8,0"
                                                CornerRadius="3">
                                            <TextBlock Text="{Binding Category}" 
                                                       FontSize="10"
                                                       Foreground="#3498db"/>
                                        </Border>
                                        <TextBlock Text="{Binding ModifiedDate, StringFormat='{}{0:MM-dd HH:mm}'}" 
                                                   FontSize="10"
                                                   Foreground="#95a5a6"/>
                                    </StackPanel>
                                </StackPanel>
                            </Border>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>

                <!-- ìƒˆ ë©”ëª¨ ë²„íŠ¼ -->
                <Button Grid.Row="5" 
                        Content="âž• ìƒˆ ë©”ëª¨" 
                        x:Name="NewMemoButton"
                        Click="NewMemoButton_Click"
                        Background="#27ae60"
                        Foreground="White"
                        FontSize="16"
                        FontWeight="Bold"
                        Padding="10"
                        Margin="5"
                        Height="50"
                        BorderThickness="0"
                        Cursor="Hand"/>
            </Grid>
        </Border>

        <!-- êµ¬ë¶„ì„  -->
        <GridSplitter Grid.Column="1" HorizontalAlignment="Stretch" Background="#34495e"/>

        <!-- ì˜¤ë¥¸ìª½ íŽ¸ì§‘ ì˜ì—­ -->
        <Border Grid.Column="2" Background="#ecf0f1">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- ìƒë‹¨ íˆ´ë°” -->
                <Border Grid.Row="0" Background="#34495e" Padding="10">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" 
                                   x:Name="SaveLocationText"
                                   Foreground="White"
                                   FontSize="11"
                                   VerticalAlignment="Center"
                                   TextTrimming="CharacterEllipsis"/>
                        <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
                            <Button Content="âš™ï¸ ì €ìž¥ìœ„ì¹˜" 
                                    x:Name="SettingsButton"
                                    Click="SettingsButton_Click"
                                    Background="#95a5a6"
                                    Foreground="White"
                                    Padding="10,6"
                                    Margin="5"
                                    FontSize="12"
                                    BorderThickness="0"
                                    Cursor="Hand"/>
                            <Button Content="ðŸ’¾ ì €ìž¥" 
                                    x:Name="SaveButton"
                                    Click="SaveButton_Click"
                                    Background="#27ae60"
                                    Foreground="White"
                                    Padding="12,6"
                                    Margin="5"
                                    FontSize="14"
                                    FontWeight="Bold"
                                    BorderThickness="0"
                                    Cursor="Hand"/>
                            <Button Content="ðŸ“¤ ë‚´ë³´ë‚´ê¸°" 
                                    x:Name="ExportButton"
                                    Click="ExportButton_Click"
                                    Background="#9b59b6"
                                    Foreground="White"
                                    Padding="12,6"
                                    Margin="5"
                                    FontSize="14"
                                    BorderThickness="0"
                                    Cursor="Hand"/>
                            <Button Content="ðŸ—‘ï¸ ì‚­ì œ" 
                                    x:Name="DeleteButton"
                                    Click="DeleteButton_Click"
                                    Background="#e74c3c"
                                    Foreground="White"
                                    Padding="12,6"
                                    Margin="5"
                                    FontSize="14"
                                    BorderThickness="0"
                                    Cursor="Hand"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- ì œëª© ìž…ë ¥ -->
                <Border Grid.Row="1" Background="White" Padding="20" Margin="10,10,10,5" BorderThickness="1" BorderBrush="#bdc3c7">
                    <TextBox x:Name="TitleTextBox" 
                             FontSize="22"
                             FontWeight="Bold"
                             BorderThickness="0"
                             Background="Transparent"
                             TextChanged="TitleTextBox_TextChanged"
                             VerticalContentAlignment="Center"/>
                </Border>

                <!-- ë©”íƒ€ ì •ë³´ -->
                <Border Grid.Row="2" Background="White" Padding="15,8" Margin="10,0,10,5" BorderThickness="1" BorderBrush="#bdc3c7">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Text="ì¹´í…Œê³ ë¦¬:" 
                                   FontSize="12"
                                   Foreground="#7f8c8d"
                                   VerticalAlignment="Center"
                                   Grid.Column="0"
                                   Margin="0,0,5,0"/>
                        <ComboBox x:Name="CategoryEditComboBox" 
                                  Grid.Column="1"
                                  FontSize="12"
                                  Margin="0,0,15,0"
                                  SelectionChanged="CategoryEditComboBox_SelectionChanged"/>

                        <TextBlock Text="íƒœê·¸:" 
                                   FontSize="12"
                                   Foreground="#7f8c8d"
                                   VerticalAlignment="Center"
                                   Grid.Column="2"
                                   Margin="0,0,5,0"/>
                        <TextBox x:Name="TagsTextBox" 
                                 Grid.Column="3"
                                 FontSize="12"
                                 Margin="0,0,15,0"
                                 TextChanged="TagsTextBox_TextChanged"/>

                        <TextBlock Text="ìš°ì„ ìˆœìœ„:" 
                                   FontSize="12"
                                   Foreground="#7f8c8d"
                                   VerticalAlignment="Center"
                                   Grid.Column="4"
                                   Margin="0,0,5,0"/>
                        <ComboBox x:Name="PriorityEditComboBox" 
                                  Grid.Column="5"
                                  FontSize="12"
                                  SelectionChanged="PriorityEditComboBox_SelectionChanged"/>

                        <CheckBox x:Name="FavoriteCheckBox" 
                                  Content="â­ ì¦ê²¨ì°¾ê¸°"
                                  FontSize="12"
                                  Grid.Row="1"
                                  Grid.Column="0"
                                  Grid.ColumnSpan="2"
                                  Margin="0,8,0,0"
                                  VerticalAlignment="Center"
                                  Checked="FavoriteCheckBox_Changed"
                                  Unchecked="FavoriteCheckBox_Changed"/>

                        <TextBlock x:Name="DateTextBlock" 
                                   FontSize="11"
                                   Foreground="#95a5a6"
                                   Grid.Row="1"
                                   Grid.Column="4"
                                   Grid.ColumnSpan="2"
                                   Margin="0,8,0,0"
                                   VerticalAlignment="Center"
                                   HorizontalAlignment="Right"/>
                    </Grid>
                </Border>

                <!-- ë‚´ìš© ìž…ë ¥ -->
                <Border Grid.Row="3" Background="White" Margin="10,0,10,10" BorderThickness="1" BorderBrush="#bdc3c7">
                    <TextBox x:Name="ContentTextBox" 
                             TextWrapping="Wrap"
                             AcceptsReturn="True"
                             VerticalScrollBarVisibility="Auto"
                             FontSize="15"
                             BorderThickness="0"
                             Padding="20"
                             TextChanged="ContentTextBox_TextChanged"
/>
                </Border>

                <!-- í•˜ë‹¨ ìƒíƒœë°” -->
                <Border Grid.Row="4" Background="#34495e" Padding="10">
                    <TextBlock x:Name="StatusTextBlock" 
                               Text="ì¤€ë¹„ë¨"
                               Foreground="White"
                               FontSize="12"/>
                </Border>
            </Grid>
        </Border>
    </Grid>
</Window>
